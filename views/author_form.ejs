<%- include('./includes/start.ejs') %>
</head>
<body>
    <%- include('./includes/bodyStart.ejs') %>
        <form action="" method="post">
            <div class="form-group">
                <label for="first_name">First Name: </label>
                <input class="form-control" type="text" name="first_name" id="first_name" placeholder="First name" value="<%= locals.author ? author.first_name : ''%>">
                <label for="last_name">Last Name: </label>
                <input class="form-control" type="text" name="last_name" id="last_name" placeholder="Last name" value="<%= locals.author ? author.last_name : '' %>">
            </div>
            <div class="form-group">
                <% function findDate(d) { if(d instanceof Date) return(d.toLocaleDateString() )} %>
                <label for="date_of_birth">Date of birth: </label>
                <input class="form-control" type="date" name="date_of_birth" id="date_of_birth" placeholder="dd/mm/yyyy" value="<%= locals.author ? findDate(author.date_of_death) : '' %>">
                <label for="date_of_death">Date of death: </label>
                <input type="date" name="date_of_death" id="date_of_death" placeholder="dd/mm/yyyy" value="<%= locals.author ? findDate(author.date_of_death) : ''%>" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <% if(locals.errors) {%>
            <ul>
                <% errors.forEach( error => { %>
                    <li><%= error.msg %></li>
                <%})%>
            </ul>
        <%}%>
    <%- include('./includes/bodyEnd.ejs') %>
</body>
</html>